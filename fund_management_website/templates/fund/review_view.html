{% extends 'fund/base.html' %}
{% load static %}

{%block title_block %}
    Review View
{% endblock %}

{% block body_block %}
<main role="main" class="inner cover">
  <div class="container-fluid">
      <div class="cover-container d-flex h-100 p-3 mx-auto flex-column">
          <h1 class="cover-heading text-center">Review Summary</h1>
          <p class="lead text-center">Completed by <a href="{% url 'fund:user_profile' review.user %}">{{review.user}}</a> on the {{ review.date_completed }}
            for Application #<a href="{% url 'fund:view_application_status' review.application.id %}">{{ review.application.id }}</a>
          </p>
      </div>
  </div>
  <hr>

  <div class="container">
      <div class="row">
      <div class = "container-fluid pb-3 col-10 border rounded-1 px-5 p-5">
          {% for field in review_form %}
          <div class="fieldWrapper">
            <p class="lead"><strong>{{ field.label_tag }}</strong>
            <br>
                <span id="myspan">{{ field.value }}</span>
          {% if field.help_text %}
          <p class="help">{{ field.help_text|safe }}</p>
          {% endif %}
        </div>
        {% endfor %}
    </div>


</main>

{% endblock %}


{% block javascript_block %}
<script>
    const matches = document.querySelectorAll("span#myspan");
    const reqSpan = Array.from(matches).slice(0,6);
    for (var i = 0; i < reqSpan.length; i++) {
        if((reqSpan[i].textContent) === "0"){
            reqSpan[i].textContent= "Red";
        }
        if((reqSpan[i].textContent) === "1"){
            reqSpan[i].textContent= "Amber";
        }
        if((reqSpan[i].textContent) === "2"){
            reqSpan[i].textContent= "Green";
        }

    }

</script>

{% endblock %}
